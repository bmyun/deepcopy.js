{"version":3,"file":"index.mjs","sources":["../../node_modules/type-detect/type-detect.js","../../src/buffer.ts","../../src/detector.ts","../../src/collection.ts","../../src/clone.ts","../../src/index.ts"],"sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.typeDetect = factory());\n}(this, (function () { 'use strict';\n\n/* !\n * type-detect\n * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\nvar promiseExists = typeof Promise === 'function';\n\n/* eslint-disable no-undef */\nvar globalObject = typeof self === 'object' ? self : global; // eslint-disable-line id-blacklist\n\nvar symbolExists = typeof Symbol !== 'undefined';\nvar mapExists = typeof Map !== 'undefined';\nvar setExists = typeof Set !== 'undefined';\nvar weakMapExists = typeof WeakMap !== 'undefined';\nvar weakSetExists = typeof WeakSet !== 'undefined';\nvar dataViewExists = typeof DataView !== 'undefined';\nvar symbolIteratorExists = symbolExists && typeof Symbol.iterator !== 'undefined';\nvar symbolToStringTagExists = symbolExists && typeof Symbol.toStringTag !== 'undefined';\nvar setEntriesExists = setExists && typeof Set.prototype.entries === 'function';\nvar mapEntriesExists = mapExists && typeof Map.prototype.entries === 'function';\nvar setIteratorPrototype = setEntriesExists && Object.getPrototypeOf(new Set().entries());\nvar mapIteratorPrototype = mapEntriesExists && Object.getPrototypeOf(new Map().entries());\nvar arrayIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === 'function';\nvar arrayIteratorPrototype = arrayIteratorExists && Object.getPrototypeOf([][Symbol.iterator]());\nvar stringIteratorExists = symbolIteratorExists && typeof String.prototype[Symbol.iterator] === 'function';\nvar stringIteratorPrototype = stringIteratorExists && Object.getPrototypeOf(''[Symbol.iterator]());\nvar toStringLeftSliceLength = 8;\nvar toStringRightSliceLength = -1;\n/**\n * ### typeOf (obj)\n *\n * Uses `Object.prototype.toString` to determine the type of an object,\n * normalising behaviour across engine versions & well optimised.\n *\n * @param {Mixed} object\n * @return {String} object type\n * @api public\n */\nfunction typeDetect(obj) {\n  /* ! Speed optimisation\n   * Pre:\n   *   string literal     x 3,039,035 ops/sec ±1.62% (78 runs sampled)\n   *   boolean literal    x 1,424,138 ops/sec ±4.54% (75 runs sampled)\n   *   number literal     x 1,653,153 ops/sec ±1.91% (82 runs sampled)\n   *   undefined          x 9,978,660 ops/sec ±1.92% (75 runs sampled)\n   *   function           x 2,556,769 ops/sec ±1.73% (77 runs sampled)\n   * Post:\n   *   string literal     x 38,564,796 ops/sec ±1.15% (79 runs sampled)\n   *   boolean literal    x 31,148,940 ops/sec ±1.10% (79 runs sampled)\n   *   number literal     x 32,679,330 ops/sec ±1.90% (78 runs sampled)\n   *   undefined          x 32,363,368 ops/sec ±1.07% (82 runs sampled)\n   *   function           x 31,296,870 ops/sec ±0.96% (83 runs sampled)\n   */\n  var typeofObj = typeof obj;\n  if (typeofObj !== 'object') {\n    return typeofObj;\n  }\n\n  /* ! Speed optimisation\n   * Pre:\n   *   null               x 28,645,765 ops/sec ±1.17% (82 runs sampled)\n   * Post:\n   *   null               x 36,428,962 ops/sec ±1.37% (84 runs sampled)\n   */\n  if (obj === null) {\n    return 'null';\n  }\n\n  /* ! Spec Conformance\n   * Test: `Object.prototype.toString.call(window)``\n   *  - Node === \"[object global]\"\n   *  - Chrome === \"[object global]\"\n   *  - Firefox === \"[object Window]\"\n   *  - PhantomJS === \"[object Window]\"\n   *  - Safari === \"[object Window]\"\n   *  - IE 11 === \"[object Window]\"\n   *  - IE Edge === \"[object Window]\"\n   * Test: `Object.prototype.toString.call(this)``\n   *  - Chrome Worker === \"[object global]\"\n   *  - Firefox Worker === \"[object DedicatedWorkerGlobalScope]\"\n   *  - Safari Worker === \"[object DedicatedWorkerGlobalScope]\"\n   *  - IE 11 Worker === \"[object WorkerGlobalScope]\"\n   *  - IE Edge Worker === \"[object WorkerGlobalScope]\"\n   */\n  if (obj === globalObject) {\n    return 'global';\n  }\n\n  /* ! Speed optimisation\n   * Pre:\n   *   array literal      x 2,888,352 ops/sec ±0.67% (82 runs sampled)\n   * Post:\n   *   array literal      x 22,479,650 ops/sec ±0.96% (81 runs sampled)\n   */\n  if (\n    Array.isArray(obj) &&\n    (symbolToStringTagExists === false || !(Symbol.toStringTag in obj))\n  ) {\n    return 'Array';\n  }\n\n  // Not caching existence of `window` and related properties due to potential\n  // for `window` to be unset before tests in quasi-browser environments.\n  if (typeof window === 'object' && window !== null) {\n    /* ! Spec Conformance\n     * (https://html.spec.whatwg.org/multipage/browsers.html#location)\n     * WhatWG HTML$7.7.3 - The `Location` interface\n     * Test: `Object.prototype.toString.call(window.location)``\n     *  - IE <=11 === \"[object Object]\"\n     *  - IE Edge <=13 === \"[object Object]\"\n     */\n    if (typeof window.location === 'object' && obj === window.location) {\n      return 'Location';\n    }\n\n    /* ! Spec Conformance\n     * (https://html.spec.whatwg.org/#document)\n     * WhatWG HTML$3.1.1 - The `Document` object\n     * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n     *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-26809268)\n     *       which suggests that browsers should use HTMLTableCellElement for\n     *       both TD and TH elements. WhatWG separates these.\n     *       WhatWG HTML states:\n     *         > For historical reasons, Window objects must also have a\n     *         > writable, configurable, non-enumerable property named\n     *         > HTMLDocument whose value is the Document interface object.\n     * Test: `Object.prototype.toString.call(document)``\n     *  - Chrome === \"[object HTMLDocument]\"\n     *  - Firefox === \"[object HTMLDocument]\"\n     *  - Safari === \"[object HTMLDocument]\"\n     *  - IE <=10 === \"[object Document]\"\n     *  - IE 11 === \"[object HTMLDocument]\"\n     *  - IE Edge <=13 === \"[object HTMLDocument]\"\n     */\n    if (typeof window.document === 'object' && obj === window.document) {\n      return 'Document';\n    }\n\n    if (typeof window.navigator === 'object') {\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/multipage/webappapis.html#mimetypearray)\n       * WhatWG HTML$8.6.1.5 - Plugins - Interface MimeTypeArray\n       * Test: `Object.prototype.toString.call(navigator.mimeTypes)``\n       *  - IE <=10 === \"[object MSMimeTypesCollection]\"\n       */\n      if (typeof window.navigator.mimeTypes === 'object' &&\n          obj === window.navigator.mimeTypes) {\n        return 'MimeTypeArray';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n       * WhatWG HTML$8.6.1.5 - Plugins - Interface PluginArray\n       * Test: `Object.prototype.toString.call(navigator.plugins)``\n       *  - IE <=10 === \"[object MSPluginsCollection]\"\n       */\n      if (typeof window.navigator.plugins === 'object' &&\n          obj === window.navigator.plugins) {\n        return 'PluginArray';\n      }\n    }\n\n    if ((typeof window.HTMLElement === 'function' ||\n        typeof window.HTMLElement === 'object') &&\n        obj instanceof window.HTMLElement) {\n      /* ! Spec Conformance\n      * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n      * WhatWG HTML$4.4.4 - The `blockquote` element - Interface `HTMLQuoteElement`\n      * Test: `Object.prototype.toString.call(document.createElement('blockquote'))``\n      *  - IE <=10 === \"[object HTMLBlockElement]\"\n      */\n      if (obj.tagName === 'BLOCKQUOTE') {\n        return 'HTMLQuoteElement';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/#htmltabledatacellelement)\n       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableDataCellElement`\n       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n       *       which suggests that browsers should use HTMLTableCellElement for\n       *       both TD and TH elements. WhatWG separates these.\n       * Test: Object.prototype.toString.call(document.createElement('td'))\n       *  - Chrome === \"[object HTMLTableCellElement]\"\n       *  - Firefox === \"[object HTMLTableCellElement]\"\n       *  - Safari === \"[object HTMLTableCellElement]\"\n       */\n      if (obj.tagName === 'TD') {\n        return 'HTMLTableDataCellElement';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/#htmltableheadercellelement)\n       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableHeaderCellElement`\n       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n       *       which suggests that browsers should use HTMLTableCellElement for\n       *       both TD and TH elements. WhatWG separates these.\n       * Test: Object.prototype.toString.call(document.createElement('th'))\n       *  - Chrome === \"[object HTMLTableCellElement]\"\n       *  - Firefox === \"[object HTMLTableCellElement]\"\n       *  - Safari === \"[object HTMLTableCellElement]\"\n       */\n      if (obj.tagName === 'TH') {\n        return 'HTMLTableHeaderCellElement';\n      }\n    }\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   Float64Array       x 625,644 ops/sec ±1.58% (80 runs sampled)\n  *   Float32Array       x 1,279,852 ops/sec ±2.91% (77 runs sampled)\n  *   Uint32Array        x 1,178,185 ops/sec ±1.95% (83 runs sampled)\n  *   Uint16Array        x 1,008,380 ops/sec ±2.25% (80 runs sampled)\n  *   Uint8Array         x 1,128,040 ops/sec ±2.11% (81 runs sampled)\n  *   Int32Array         x 1,170,119 ops/sec ±2.88% (80 runs sampled)\n  *   Int16Array         x 1,176,348 ops/sec ±5.79% (86 runs sampled)\n  *   Int8Array          x 1,058,707 ops/sec ±4.94% (77 runs sampled)\n  *   Uint8ClampedArray  x 1,110,633 ops/sec ±4.20% (80 runs sampled)\n  * Post:\n  *   Float64Array       x 7,105,671 ops/sec ±13.47% (64 runs sampled)\n  *   Float32Array       x 5,887,912 ops/sec ±1.46% (82 runs sampled)\n  *   Uint32Array        x 6,491,661 ops/sec ±1.76% (79 runs sampled)\n  *   Uint16Array        x 6,559,795 ops/sec ±1.67% (82 runs sampled)\n  *   Uint8Array         x 6,463,966 ops/sec ±1.43% (85 runs sampled)\n  *   Int32Array         x 5,641,841 ops/sec ±3.49% (81 runs sampled)\n  *   Int16Array         x 6,583,511 ops/sec ±1.98% (80 runs sampled)\n  *   Int8Array          x 6,606,078 ops/sec ±1.74% (81 runs sampled)\n  *   Uint8ClampedArray  x 6,602,224 ops/sec ±1.77% (83 runs sampled)\n  */\n  var stringTag = (symbolToStringTagExists && obj[Symbol.toStringTag]);\n  if (typeof stringTag === 'string') {\n    return stringTag;\n  }\n\n  var objPrototype = Object.getPrototypeOf(obj);\n  /* ! Speed optimisation\n  * Pre:\n  *   regex literal      x 1,772,385 ops/sec ±1.85% (77 runs sampled)\n  *   regex constructor  x 2,143,634 ops/sec ±2.46% (78 runs sampled)\n  * Post:\n  *   regex literal      x 3,928,009 ops/sec ±0.65% (78 runs sampled)\n  *   regex constructor  x 3,931,108 ops/sec ±0.58% (84 runs sampled)\n  */\n  if (objPrototype === RegExp.prototype) {\n    return 'RegExp';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   date               x 2,130,074 ops/sec ±4.42% (68 runs sampled)\n  * Post:\n  *   date               x 3,953,779 ops/sec ±1.35% (77 runs sampled)\n  */\n  if (objPrototype === Date.prototype) {\n    return 'Date';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise.prototype-@@tostringtag)\n   * ES6$25.4.5.4 - Promise.prototype[@@toStringTag] should be \"Promise\":\n   * Test: `Object.prototype.toString.call(Promise.resolve())``\n   *  - Chrome <=47 === \"[object Object]\"\n   *  - Edge <=20 === \"[object Object]\"\n   *  - Firefox 29-Latest === \"[object Promise]\"\n   *  - Safari 7.1-Latest === \"[object Promise]\"\n   */\n  if (promiseExists && objPrototype === Promise.prototype) {\n    return 'Promise';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   set                x 2,222,186 ops/sec ±1.31% (82 runs sampled)\n  * Post:\n  *   set                x 4,545,879 ops/sec ±1.13% (83 runs sampled)\n  */\n  if (setExists && objPrototype === Set.prototype) {\n    return 'Set';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   map                x 2,396,842 ops/sec ±1.59% (81 runs sampled)\n  * Post:\n  *   map                x 4,183,945 ops/sec ±6.59% (82 runs sampled)\n  */\n  if (mapExists && objPrototype === Map.prototype) {\n    return 'Map';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   weakset            x 1,323,220 ops/sec ±2.17% (76 runs sampled)\n  * Post:\n  *   weakset            x 4,237,510 ops/sec ±2.01% (77 runs sampled)\n  */\n  if (weakSetExists && objPrototype === WeakSet.prototype) {\n    return 'WeakSet';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   weakmap            x 1,500,260 ops/sec ±2.02% (78 runs sampled)\n  * Post:\n  *   weakmap            x 3,881,384 ops/sec ±1.45% (82 runs sampled)\n  */\n  if (weakMapExists && objPrototype === WeakMap.prototype) {\n    return 'WeakMap';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-dataview.prototype-@@tostringtag)\n   * ES6$24.2.4.21 - DataView.prototype[@@toStringTag] should be \"DataView\":\n   * Test: `Object.prototype.toString.call(new DataView(new ArrayBuffer(1)))``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (dataViewExists && objPrototype === DataView.prototype) {\n    return 'DataView';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%mapiteratorprototype%-@@tostringtag)\n   * ES6$23.1.5.2.2 - %MapIteratorPrototype%[@@toStringTag] should be \"Map Iterator\":\n   * Test: `Object.prototype.toString.call(new Map().entries())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (mapExists && objPrototype === mapIteratorPrototype) {\n    return 'Map Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%setiteratorprototype%-@@tostringtag)\n   * ES6$23.2.5.2.2 - %SetIteratorPrototype%[@@toStringTag] should be \"Set Iterator\":\n   * Test: `Object.prototype.toString.call(new Set().entries())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (setExists && objPrototype === setIteratorPrototype) {\n    return 'Set Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%arrayiteratorprototype%-@@tostringtag)\n   * ES6$22.1.5.2.2 - %ArrayIteratorPrototype%[@@toStringTag] should be \"Array Iterator\":\n   * Test: `Object.prototype.toString.call([][Symbol.iterator]())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (arrayIteratorExists && objPrototype === arrayIteratorPrototype) {\n    return 'Array Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%stringiteratorprototype%-@@tostringtag)\n   * ES6$21.1.5.2.2 - %StringIteratorPrototype%[@@toStringTag] should be \"String Iterator\":\n   * Test: `Object.prototype.toString.call(''[Symbol.iterator]())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (stringIteratorExists && objPrototype === stringIteratorPrototype) {\n    return 'String Iterator';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   object from null   x 2,424,320 ops/sec ±1.67% (76 runs sampled)\n  * Post:\n  *   object from null   x 5,838,000 ops/sec ±0.99% (84 runs sampled)\n  */\n  if (objPrototype === null) {\n    return 'Object';\n  }\n\n  return Object\n    .prototype\n    .toString\n    .call(obj)\n    .slice(toStringLeftSliceLength, toStringRightSliceLength);\n}\n\nreturn typeDetect;\n\n})));\n","const isBufferExists = typeof Buffer !== 'undefined';\n\n/**\n * is it Buffer?\n *\n * @private\n */\nexport const isBuffer: typeof Buffer.isBuffer = isBufferExists\n  ? Buffer.isBuffer.bind(Buffer)\n  : /**\n     * return false every time if Buffer unsupported\n     *\n     * @private\n     */\n    function isBuffer(\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      obj: Parameters<typeof Buffer.isBuffer>[0]\n    ): obj is Buffer {\n      return false;\n    };\n\n/**\n * clone Buffer\n *\n * @private\n */\nexport const cloneBuffer: typeof Buffer.from = isBufferExists\n  ? Buffer.from.bind(Buffer)\n  : /**\n     * return argument\n     * use if Buffer unsupported\n     *\n     * @private\n     * @param value\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function cloneBuffer(value: unknown): any {\n      return value;\n    };\n","import typeDetect from 'type-detect';\n\nimport { isBuffer } from './buffer';\n\n// NOTE: for the file size optimization\nexport const typeArguments = 'Arguments';\nexport const typeArray = 'Array';\nexport const typeObject = 'Object';\nexport const typeMap = 'Map';\nexport const typeSet = 'Set';\n\n/**\n * detect value type\n *\n * @param value\n */\nexport function detectType(value: unknown): string {\n  // NOTE: isBuffer must execute before type-detect,\n  // because type-detect returns 'Uint8Array'.\n  if (/*#__INLINE__*/ isBuffer(value)) {\n    return 'Buffer';\n  }\n\n  return typeDetect(value);\n}\n","import {\n  typeArguments,\n  typeArray,\n  typeMap,\n  typeObject,\n  typeSet\n} from './detector';\n\nexport type Collection =\n  | IArguments\n  | Array<unknown>\n  | Map<unknown, unknown>\n  | Record<string | number | symbol, unknown>\n  | Set<unknown>;\n\n/**\n * Collection types\n *\n * @private\n */\nconst collectionTypeSet = new Set([\n  typeArguments,\n  typeArray,\n  typeMap,\n  typeObject,\n  typeSet\n]);\n\n/**\n * is it Collection?\n *\n * @private\n * @param valueType\n */\nexport function isCollection(valueType: string): boolean {\n  return /*#__INLINE__*/ collectionTypeSet.has(valueType);\n}\n\n/**\n * get keys from Collection\n *\n * @private\n * @param collection\n * @param collectionType\n */\nexport function getKeys(\n  collection: Collection,\n  collectionType: string\n): Array<string | symbol> {\n  switch (collectionType) {\n    case typeArguments:\n    case typeArray:\n      return Object.keys(collection as string[]);\n    case typeObject:\n      return ([] as Array<string | symbol>).concat(\n        // NOTE: Object.getOwnPropertyNames can get all own keys.\n        Object.keys(collection as Record<string, unknown>),\n        Object.getOwnPropertySymbols(collection as Record<symbol, unknown>)\n      );\n    case typeMap:\n    case typeSet:\n      return Array.from((collection as Set<string | symbol>).keys());\n    default:\n      return [];\n  }\n}\n\n/**\n * get value from Collection\n *\n * @private\n * @param collection\n * @param key\n * @param collectionType\n */\nexport function getValue(\n  collection: Collection,\n  key: unknown,\n  collectionType: string\n): unknown {\n  switch (collectionType) {\n    case typeArguments:\n    case typeArray:\n    case typeObject:\n      return (collection as Record<string, unknown>)[key as string];\n    case typeMap:\n      return (collection as Map<unknown, unknown>).get(key);\n    case typeSet:\n      // NOTE: Set.prototype.keys is alias of Set.prototype.values. It means key equals to value.\n      return key;\n    default:\n  }\n}\n\n/**\n * set value to collection\n *\n * @param collection\n * @param key\n * @param value\n * @param collectionType\n */\nexport function setValue(\n  collection: Collection,\n  key: unknown,\n  value: unknown,\n  collectionType: string\n): Collection {\n  switch (collectionType) {\n    case typeArguments:\n    case typeArray:\n    case typeObject:\n      (collection as Record<string, unknown>)[key as string] = value;\n      break;\n    case typeMap:\n      (collection as Map<unknown, unknown>).set(key, value);\n      break;\n    case typeSet:\n      (collection as Set<unknown>).add(value);\n      break;\n    default:\n  }\n\n  return collection;\n}\n","import { cloneBuffer } from './buffer';\nimport {\n  typeArguments,\n  typeArray,\n  typeMap,\n  typeObject,\n  typeSet\n} from './detector';\n\n/**\n * clone value\n *\n * @private\n * @param value\n * @param valueType\n */\nexport function clone(value: unknown, valueType: string): unknown {\n  switch (valueType) {\n    // deep copy\n    case 'ArrayBuffer':\n      return (value as ArrayBuffer).slice(0);\n    case 'Boolean':\n      return new Boolean((value as boolean).valueOf());\n    case 'Buffer':\n      return /*#__INLINE__*/ cloneBuffer(value as Buffer);\n    // TODO: copy ArrayBuffer?\n    case 'DataView':\n      return new DataView((value as DataView).buffer);\n    case 'Date':\n      return new Date((value as Date).getTime());\n    case 'Number':\n      return new Number(value as number);\n    case 'RegExp':\n      return new RegExp((value as RegExp).source, (value as RegExp).flags);\n    case 'String':\n      return new String(value as string);\n\n    // typed arrays\n    case 'Float32Array':\n      return new Float32Array(value as Float32Array);\n    case 'Float64Array':\n      return new Float64Array(value as Float64Array);\n    case 'Int16Array':\n      return new Int16Array(value as Int16Array);\n    case 'Int32Array':\n      return new Int32Array(value as Int32Array);\n    case 'Int8Array':\n      return new Int8Array(value as Int8Array);\n    case 'Uint16Array':\n      return new Uint16Array(value as Uint16Array);\n    case 'Uint32Array':\n      return new Uint32Array(value as Uint32Array);\n    case 'Uint8Array':\n      return new Uint8Array(value as Uint8Array);\n    case 'Uint8ClampedArray':\n      return new Uint8ClampedArray(value as Uint8ClampedArray);\n\n    // shallow copy\n    case 'Array Iterator':\n      return value;\n    case 'Map Iterator':\n      return value;\n    case 'Promise':\n      return value;\n    case 'Set Iterator':\n      return value;\n    case 'String Iterator':\n      return value;\n    case 'function':\n      return value;\n    case 'global':\n      return value;\n    // NOTE: WeakMap and WeakSet cannot get entries\n    case 'WeakMap':\n      return value;\n    case 'WeakSet':\n      return value;\n\n    // primitives\n    case 'boolean':\n      return value;\n    case 'null':\n      return value;\n    case 'number':\n      return value;\n    case 'string':\n      return value;\n    case 'symbol':\n      return value;\n    case 'undefined':\n      return value;\n\n    // collections\n    // NOTE: return empty value: because recursively copy later.\n    case typeArguments:\n      return [];\n    case typeArray:\n      return [];\n    case typeMap:\n      return new Map<unknown, unknown>();\n    case typeObject:\n      return {};\n    case typeSet:\n      return new Set<unknown>();\n\n    // NOTE: type-detect returns following types\n    // 'Location'\n    // 'Document'\n    // 'MimeTypeArray'\n    // 'PluginArray'\n    // 'HTMLQuoteElement'\n    // 'HTMLTableDataCellElement'\n    // 'HTMLTableHeaderCellElement'\n\n    // TODO: is type-detect never return 'object'?\n    // 'object'\n\n    default:\n      return value;\n  }\n}\n\nexport type Customizer = (value: unknown, type: string) => unknown;\n\n/**\n * copy value with customizer function\n *\n * @private\n * @param value\n * @param type\n */\nexport function copy(\n  value: unknown,\n  valueType: string,\n  customizer: Customizer | null = null\n): unknown {\n  if (customizer && valueType === 'Object') {\n    const result = customizer(value, valueType);\n\n    if (result !== undefined) {\n      return result;\n    }\n  }\n\n  return /*#__INLINE__*/ clone(value, valueType);\n}\n","import { detectType } from './detector';\nimport {\n  Collection,\n  getKeys,\n  getValue,\n  isCollection,\n  setValue\n} from './collection';\nimport { copy, Customizer } from './clone';\n\n/**\n * recursively copy\n *\n * @private\n * @param value\n * @param clone\n * @param references\n * @param visited\n * @param customizer\n */\nfunction recursiveCopy(\n  value: unknown,\n  clone: unknown,\n  references: WeakMap<Record<string, unknown>, unknown>,\n  visited: WeakSet<Record<string, unknown>>,\n  customizer: Parameters<typeof copy>[2]\n): unknown {\n  const valueType = detectType(value);\n  const copiedValue = copy(value, valueType);\n\n  // return if not a collection value\n  if (!isCollection(valueType)) {\n    return copiedValue;\n  }\n\n  const keys = /*#__INLINE__*/ getKeys(value as Collection, valueType);\n\n  // walk within collection with iterator\n  for (const collectionKey of keys) {\n    const collectionValue = /*#__INLINE__*/ getValue(\n      value as Collection,\n      collectionKey,\n      valueType\n    ) as Record<string, unknown>;\n\n    if (visited.has(collectionValue)) {\n      // for [Circular]\n      setValue(\n        clone as Collection,\n        collectionKey,\n        references.get(collectionValue),\n        valueType\n      );\n    } else {\n      const collectionValueType = detectType(collectionValue);\n      const copiedCollectionValue = copy(collectionValue, collectionValueType);\n\n      // save reference if value is collection\n      if (isCollection(collectionValueType)) {\n        references.set(collectionValue, copiedCollectionValue);\n        visited.add(collectionValue);\n      }\n\n      setValue(\n        clone as Collection,\n        collectionKey,\n        recursiveCopy(\n          collectionValue,\n          copiedCollectionValue,\n          references,\n          visited,\n          customizer\n        ),\n        valueType\n      );\n    }\n  }\n\n  // TODO: isSealed/isFrozen/isExtensible\n\n  return clone;\n}\n\nexport type Options = { customizer?: Customizer };\n\n/**\n * deep copy value\n *\n * @param value\n * @param options\n */\nexport function deepcopy<T>(value: T, options?: Options): T {\n  const {\n    // TODO: before/after customizer\n    customizer = null\n    // TODO: max depth\n    // depth = Infinity,\n  } = options || {};\n\n  const valueType = detectType(value);\n\n  if (!isCollection(valueType)) {\n    return copy(value, valueType, customizer) as T;\n  }\n\n  const copiedValue = copy(value, valueType, customizer);\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const references = new WeakMap<Record<string, any>, unknown>([\n    [value, copiedValue]\n  ]);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const visited = new WeakSet<Record<string, any>>([value]);\n\n  return recursiveCopy(\n    value,\n    copiedValue,\n    references,\n    visited,\n    customizer\n  ) as T;\n}\n"],"names":["this","global"],"mappings":"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"}